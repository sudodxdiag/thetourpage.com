YUI.add("hermes-lang-banners",(function(e,a){e.Intl.add("hermes/banners","en-US",{OLD_MAGIC_EMAIL_MESSAGE:[{type:0,value:'Hey, do you use the upload-by-email feature? If so, you need to generate a more secure address in <a href="'},{type:1,value:"url"},{type:0,value:'" class="'},{type:1,value:"class"},{type:0,value:'">Settings</a> by Aug 28th.'}],MACRO_BANNER:[{type:0,value:'Today’s Explore celebrates some of the most creative macro shots taken by the Flickr community. <a href="https://blog.flickr.net/en/2021/05/26/macro-inspiration-on-explore/" class="learn-url">Learn more</a>.'}],WORLD_PHOTOGRAPHY_TAKEOVER_BANNER:[{type:0,value:'World Photography Day is TODAY. Are your photos contest-ready? Details <a href="https://flickr.com/groups/worldphotographyday2022/" class="share-link">here</a>.'}],LIKES_BANNER:[{type:0,value:'Give photos you like a thumbs up! <a href="'},{type:1,value:"url"},{type:0,value:'" target="_blank">Learn more about Likes</a> and see the new way <a href="#" class="faving-modal-trigger">to add favorites</a>.'}],EXPLORE_CURATED_BANNER:[{type:0,value:'Today’s Explore was curated by Flickr staff. Learn more about this <a class="learn-link" href="'},{type:1,value:"learnURL"},{type:0,value:'" target="_blank">here</a>.'}],EXPLORE_OUTAGE_BANNER:[{type:0,value:'Sorry! Explore is down. Please <a class="status-link" href="'},{type:1,value:"statusUrl"},{type:0,value:'" target="_blank">visit our Status page</a> for details.'}],BFCM_BANNER_PRO_OFFER:[{type:0,value:'Cyber Week Special - <a href="'},{type:1,value:"url"},{type:0,value:'">30% off Flickr Pro annual subscription</a> for a year. Unlimited photo storage with full resolution, stats about who viewed your photos, and no ads. <a href="'},{type:1,value:"url"},{type:0,value:'"> Join now.</a>'}],PYIR_2021_BANNER:[{type:0,value:'It’s time to celebrate #MyFlickrYear! Check your email or <a href="'},{type:1,value:"url"},{type:0,value:'">visit the Flickr blog</a> for more information to celebrate your 2021 on Flickr.'}],EXPLORE_01_26_22_BANNER:[{type:0,value:'Today’s Explore takeover highlights photos submitted to <a href="'},{type:1,value:"url"},{type:0,value:'">Your Best Shot 2021</a>! May they inspire your photography in 2022.'}],PRO_OFFER_STATS_EXPLORE:[{type:0,value:"Congrats, your photo is on Explore! We’ve given you Flickr Pro free for "},{type:1,value:"numDays"},{type:0,value:' days so you can access your Stats dashboard. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Check out your Stats now</a>!'}],PRO_OFFER_STATS_VIEWS:[{type:0,value:"Congrats, your photos are getting views! We’ve given you Flickr Pro free for "},{type:1,value:"numDays"},{type:0,value:' days so you can access your Stats dashboard. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Check out your Stats now</a>!'}],"50_PERCENT_DISCOUNT_EXPLORE":[{type:0,value:'Congrats, your photo is on Explore! To celebrate, we’re giving you 50% off Monthly Pro so you can access your Stats dashboard. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Get 50% off Flickr Pro</a>.'}],"50_PERCENT_DISCOUNT_VIEWS":[{type:0,value:'Congrats, your photos are getting views! To celebrate, we’re giving you 50% off Monthly Pro so you can access your Stats dashboard. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Get 50% off Flickr Pro</a>.'}],PRO_OFFER_TRIAL_EXPLORE:[{type:0,value:"Congrats, your photo is on Explore! To celebrate, we’re giving you a "},{type:1,value:"numDays"},{type:0,value:'-day free trial of Flickr Pro so you can access your Stats dashboard. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Get your free trial of Flickr Pro</a>.'}],PRO_OFFER_TRIAL_VIEWS:[{type:0,value:"Congrats, your photos are getting views! To celebrate, we’re giving you a "},{type:1,value:"numDays"},{type:0,value:'-day free trial of Flickr Pro so you can access your Stats dashboard. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Get your free trial of Flickr Pro</a>.'}],EXPLORE_PRO_EXPIRE_SOON:[{type:0,value:'Your free Flickr Pro access ends tomorrow. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Subscribe now to continue enjoying ad-free browsing and advanced photo stats</a>.'}],EXPLORE_PRO_EXPIRED:[{type:0,value:'Your free Flickr Pro access has ended. <a href="'},{type:1,value:"upgradeUrl"},{type:0,value:'">Subscribe now to continue enjoying ad-free browsing and advanced photo stats</a>.'}],LIKELY_PRO_CONVERT:[{type:0,value:'Become a Flickr Pro and enjoy unlimited photo uploads, ad-free browsing, and more. For a limited time, <a class="banner-lpc" href="'},{type:1,value:"url"},{type:0,value:'">get 50% off of the Monthly Plan</a>.'}],BHM_EXPLORE_BANNER:[{type:0,value:'This month’s Explore takeover highlights the work of Black photographers on Flickr. Join us in celebrating them today and all year long. Join the discussion in <a class=“flickr-social-link" href="'},{type:1,value:"flickrSocialUrl"},{type:0,value:'" target="_blank">Flickr Social</a> if you would like to connect with this community.'}],TARGETED_CONVERSION:[{type:0,value:"Become a Flickr Pro and enjoy unlimited photo uploads, ad-free browsing, and more. For a limited time, <a class="},{type:1,value:"className"},{type:0,value:' href="'},{type:1,value:"url"},{type:0,value:'">get '},{type:1,value:"percentage"},{type:0,value:"% off of the "},{type:1,value:"planName"},{type:0,value:"</a>."}],TARGETED_CONVERSION_MONTH:[{type:0,value:"Monthly Plan"}],TARGETED_CONVERSION_ANNUAL:[{type:0,value:"Annual Plan"}],TARGETED_CONVERSION_2YEAR:[{type:0,value:"2 Year Plan"}],TARGETED_CONVERSION_FREE_TRIAL:[{type:0,value:'Become a Flickr Pro and enjoy unlimited photo uploads, ad-free browsing, and more. For a limited time, <a href="'},{type:1,value:"url"},{type:0,value:'">get a 7 day free trial of the Monthly Plan</a>.'}],TOS_MARKETING:[{type:0,value:'Flickr forever: <a href="'},{type:1,value:"tosUrl"},{type:0,value:'">click here</a> to learn how free accounts are changing for the long-term growth and health of our community.'}],TARGETED_CONVERSION_3_MONTH:[{type:0,value:"Become a Flickr Pro and enjoy unlimited photo uploads, ad-free browsing, and more. For a limited time, <a class="},{type:1,value:"className"},{type:0,value:' href="'},{type:1,value:"url"},{type:0,value:'">get '},{type:1,value:"percentage"},{type:0,value:"% off of the 3 Month Plan</a>."}],NO_NONSAFE:[{type:0,value:'Beginning May 1, 2022 Flickr will start enforcing our Free account changes for Restricted and Moderate content and non-public photo limits. <a href="'},{type:1,value:"url"},{type:0,value:'" target="_blank">Get Details</a>'}],PAYMENT_ISSUE_WITH_HELP:[{type:0,value:'We encountered an issue processing your payment. <a class="help-link" target="_blank" href="'},{type:1,value:"helpUrl"},{type:0,value:'">Get help to correct the issue</a>.'}],PAYMENT_ISSUE_WITH_RENEWAL_DISCOUNT:[{type:0,value:'We encountered an issue processing your payment. Update your payment method now and <a class="plan-link" href="'},{type:1,value:"planUrl"},{type:0,value:'">get '},{type:1,value:"discount"},{type:0,value:"% off your "},{type:1,value:"plan"},{type:0,value:" renewal</a>."}],PAYMENT_ISSUE_WITH_CHECK_AND_HELP:[{type:0,value:'We encountered an issue processing your payment. Please take a moment to <a class="help-link" href="'},{type:1,value:"paymentUrl"},{type:0,value:'">update your payment method</a>. You can also <a class="help-link" target="_blank" href="'},{type:1,value:"helpUrl"},{type:0,value:'">get help to correct the issue</a>.'}],PAYMENT_ISSUE_CONTROL:[{type:0,value:'We encountered an issue processing your payment. Please take a moment to <a class="help-link" href="'},{type:1,value:"paymentUrl"},{type:0,value:'">update your payment method</a>.'}],VIRTUAL_PHOTOG_FEATURE_BANNER:[{type:0,value:"A new content category for uploads and filtering is here: Virtual photography!"}],BLACK_AND_WHITE_PHOTOGRAPHY:[{type:0,value:"Today's Explore celebrates some of the most creative black and white shots taken by the Flickr community. Learn more and share your favorite in <a href=\""},{type:1,value:"learnURL"},{type:0,value:'" target="_blank">Flickr Social</a>.'}],GREEN_TAKEOVER_BANNER:[{type:0,value:'Today’s Explore celebrates the color green! Check out some of the most creative shots taken by the Flickr community and share your favorites in <a href="'},{type:1,value:"learnURL"},{type:0,value:'" target="_blank">Flickr Social</a>.'}],ANIMAL_TAKEOVER_BANNER:[{type:0,value:"Today's Explore takeover celebrates our love of animals! Check out some of the most creative shots taken by the Flickr community and share your favorites in <a href=\""},{type:1,value:"learnURL"},{type:0,value:'" target="_blank">Flickr Social</a>.'}],YBS_22_BANNER:[{type:0,value:'Submit your best photo of the year to Your Best Shot 2022 for a chance to win some great prizes. <a href="'},{type:1,value:"learnURL"},{type:0,value:'" target="_blank">Learn more here.</a>'}],EOY_22_BANNER:[{type:0,value:'<b>More of what makes Flickr great, for less: </b>Upgrade to Flickr Pro and get 30% off your first two years. <a href="'},{type:1,value:"learnUrl"},{type:0,value:'" target="_blank">Sign up now</a>.'}],YBS_EXPLORE_BANNER:[{type:0,value:"Today's Explore celebrates the awesome photo submissions of Your Best Shot 2022! Check out some of the most creative shots taken by the Flickr community and see more in the official YBS 2022 <a href=\""},{type:1,value:"learnUrl"},{type:0,value:'" target="_blank">group</a>.'}],PRINT_SHOP_BANNER:[{type:0,value:'The Print Shop is open! Buy photos from select Flickr photographers <a href="'},{type:1,value:"learnUrl"},{type:0,value:'" target="_blank">here</a>.'}],CHURNED_PRO:[{type:0,value:'Become a Flickr Pro and enjoy unlimited photo uploads, ad-free browsing, and more. For a limited time, <a class="banner-cap" href="'},{type:1,value:"url"},{type:0,value:'">get 25% off of the 2 Year Plan</a>.'}],MFY22:[{type:0,value:'It’s time to celebrate #MyFlickrYear22! Check your email or <a href="'},{type:1,value:"learnURL"},{type:0,value:'">visit the Flickr blog</a> for more information to celebrate your 2022 on Flickr.'}],BLACK_HISTORY_MONTH_2023_TAKEOVER_BANNER:[{type:0,value:'It’s Black History Month, and this month’s Explore takeover highlights the work of the amazing Black photographers on Flickr! <a href="'},{type:1,value:"learnURL"},{type:0,value:'">Join the discussion</a> and connect with the community in Flickr Social.'}],DEFAULT_SAFETY_CHANGE_MODAL_TITLE:[{type:0,value:"Account update"}],DEFAULT_SAFETY_CHANGE_MODAL_BODY:[{type:0,value:"As a free member, your account is limited to safe uploads only. We will need to change your default upload settings to Safe. You can upgrade to Flickr Pro to upload moderate or restricted photos or allow us to change your default settings to Safe only."}],DEFAULT_SAFETY_CHANGE_MODAL_MORE_INFO:[{type:0,value:'<a href="'},{type:1,value:"blogPostURL"},{type:0,value:'">Learn more about Flickr’s policy changes here.</a>'}],DEFAULT_SAFETY_CHANGE_MODAL_UPGRADE:[{type:0,value:"Upgrade to Pro"}],DEFAULT_SAFETY_CHANGE_MODAL_CHANGE:[{type:0,value:"Change to safe"}],SPRING_EXPLORE:[{type:0,value:"Today's Explore celebrates all things spring! Check out some of the most creative shots taken by the Flickr community and share your favorites in <a href=\""},{type:1,value:"learnURL"},{type:0,value:'">Flickr Social</a>.'}],EARTH_DAY_EXPLORE_BANNER:[{type:0,value:"Today's Explore is celebrating the Earth! Check out some of the most creative shots taken by the Flickr community and share your favorites in <a href=\""},{type:1,value:"learnURL"},{type:0,value:'">Flickr Social</a>.'}],DREAMING_OF_PRO_BANNER:[{type:0,value:'Dreaming of Flickr Pro? Get 20% off 2 years until May 22nd. <a href="'},{type:1,value:"subscribeUrl"},{type:0,value:'">Click here</a> to subscribe.'}],LIGHT_SHADOW_EXPLORE_BANNER:[{type:0,value:"Today's Explore is celebrating Light and Shadows! Check out some of the most creative shots taken by the Flickr community and share your favorites in <a href=\""},{type:1,value:"learnUrl"},{type:0,value:'">Flickr Social</a>.'}],BIRD_EXPLORE_BANNER:[{type:0,value:"Today's Explore is highlighting birds! Check out some of the amazing bird photography that has been shared with us by the Flickr community, then share your favorites in <a href=\""},{type:1,value:"learnUrl"},{type:0,value:'">Flickr Social</a>.'}],PROP_SCORE_2_GET_PRO:[{type:0,value:'Get unlimited uploads, no ads, daily stats on your photos and more with Flickr Pro. <a href="'},{type:1,value:"url"},{type:0,value:'">Upgrade now</a>.'}],ORANGE_EXPLORE_BANNER:[{type:0,value:"Today's Explore is celebrating the color Orange! Check out some of the most creative shots taken by the Flickr community and share your favorites in <a href=\""},{type:1,value:"learnUrl"},{type:0,value:'">Flickr Social</a>.'}],WORLD_PHOTOGRAPHY_2023:[{type:0,value:'World Photography Day is TOMORROW. Are your photos contest-ready? <a href="'},{type:1,value:"learnUrl"},{type:0,value:'">Details here</a>.'}],PORTRAIT_EXPLORE_BANNER:[{type:0,value:'Today’s Explore is highlighting portrait photography! Check out some of the great shots taken by the Flickr community and share your favorites in <a href="'},{type:1,value:"learnUrl"},{type:0,value:'">Flickr Social</a>.'}],BWP_GRANT_EXPLORE_BANNER:[{type:0,value:'Flickr and Black Women Photographers are partnering to offer a grant of $2,500! <a href="'},{type:1,value:"learnURL"},{type:0,value:'">Learn more</a>.'}],SLNP_BANNER_TEXT:[{type:0,value:"Celebrate Second Life’s 20th Birthday with 20% Off Annual or 2-Year Pro Memberships! <a href="},{type:1,value:"upgradeUrl"},{type:0,value:">Upgrade Now.</a>"}],WPD_23_EXPLORE_BANNER:[{type:0,value:'Today’s Explore takeover is inspired by last month’s World Photography Day contest. Check out some of those great photo submissions in Explore today! <a href="'},{type:1,value:"learnURL"},{type:0,value:'">Learn more</a>.'}],MACRO_2023_BANNER:[{type:0,value:'Today’s Explore takeover highlights the art of Macro photography!  Check out this collection of amazing close-up shots from our Flickr Community in Explore today, then share your own in <a href="'},{type:1,value:"learnURL"},{type:0,value:'">Flickr Social</a>.'}],MFY_23_BANNER:[{type:0,value:"Relive your "},{type:1,value:"year"},{type:0,value:' on Flickr with MyFlickrYear. <a href="'},{type:1,value:"mfyURL"},{type:0,value:'">View #MyFlickrYear23</a>'}],STATS_BANNER_ANNOUNCEMENT:[{type:0,value:'Flickr Pros: Visitor stats now extend up to nine months! More data = more fun on Flickr. <a href="'},{type:1,value:"statsURL"},{type:0,value:'">Explore now!</a>'}],YELLOW_2023_BANNER:[{type:0,value:'Today’s Explore takeover highlights the color YELLOW! Enjoy this collection of vibrant shots and beautiful images featuring all things yellow, then share your own pics and favorites in <a href="'},{type:1,value:"learnURL"},{type:0,value:'">Flickr Social</a>!'}],YBS23_BANNER:[{type:0,value:'Submit your best photo of the year to Your Best Shot 2023 for a chance to win some great prizes. <a href="'},{type:1,value:"learnUrl"},{type:0,value:'">Learn more here</a>.'}],PRO_AWARENESS_CAMPAIGN_BANNER:[{type:0,value:"This new year, make some magic! Upgrade to Flickr Pro and receive 3 complimentary months of Adobe Creative Cloud Photography Plan. Exclusively for annual and 2-Year subscriptions. <a href="},{type:1,value:"upgradeProLink"},{type:0,value:">Upgrade now!</a>"}],COMMONS_16TH_BDAY_BANNER:[{type:0,value:"Today’s Explore is a celebration of the Flickr Commons turning 16! Take a walk through history by scrolling through Explore now."}],YBS23_RESULTS_BANNER:[{type:0,value:'Today’s Explore Takeover highlights some of the Flickr Community’s amazing submissions to the Your Best Shot Contest that wrapped up earlier this month! Enjoy this collection of inspiring and diverse images, then share your own pics and favorites in <a href="'},{type:1,value:"learnURL"},{type:0,value:'">Flickr Social</a>!'}],"20TH_BIRTHDAY_BANNER":[{type:0,value:'Celebrate 20 years of Flickr with 20% off Flickr Pro! Upgrade to <a href="'},{type:1,value:"oneYearUpgradeURL"},{type:0,value:'">Annual</a> or <a href="'},{type:1,value:"twoYearUpgradeURL"},{type:0,value:'">2 Year</a> now.'}]})}),"@VERSION@",{requires:["intl"]});YUI.add("storage-helper",(function(e){e.StorageHelper={setItem:function(t,i,n){var o=n?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[o][t]=i}catch(e){}},getItem:function(t,i){var n,o=i?"sessionStorage":"localStorage";if(e.config.win)try{n=e.config.win[o][t]}catch(e){}return n},remove:function(t,i){var n=i?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[n].removeItem(t)}catch(e){}},hasEntries:function(t,i){var n=i?"sessionStorage":"localStorage",o=!1;if(e.config.win)try{o=void 0!==e.config.win[n][t]}catch(e){}return o},isLocalStorageAvailable:function(){var t="checkLSCompat",i=!1;try{e.config.win.localStorage[t]="checkLSCompatValue",e.config.win.localStorage.removeItem(t),i=!0}catch(e){i=!1}return i}},e.Storage={Instance:{_cache:{},_hasSessionStorage:!0,_clientIdKey:"",getClientIdKey:function(){return this._clientIdKey||(this._clientIdKey=e.config.win.appContext.clientId+"_"),this._clientIdKey},get:function(t){var i,n;try{t=t||"",i=this.getClientIdKey()+t,n=this._hasSessionStorage?e.config.win.sessionStorage.getItem(i):this._cache[i]}catch(e){this._hasSessionStorage=!1}return n},set:function(t,i){var n;try{t&&(n=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.setItem(n,i):this._cache[n]=i)}catch(e){this._cache[n]=i,this._hasSessionStorage=!1}},has:function(t){var i,n=!1;try{i=this.getClientIdKey()+t,n=this._hasSessionStorage?!!e.config.win.sessionStorage.getItem(i):!!this._cache[i]}catch(e){this._hasSessionStorage=!1}return n},remove:function(t){var i;try{t=t||"",i=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.removeItem(i):this._cache[i]=void 0}catch(e){this._hasSessionStorage=!1}},clear:function(){this.clearByKey(this.getClientIdKey())},clearByKey:function(t){var i,n,o,s=[];try{if(t)if(this._hasSessionStorage){for(i=0,o=e.config.win.sessionStorage.length;i<o;i++)(n=e.config.win.sessionStorage.key(i))&&0===n.indexOf(t)&&s.push(n);for(i=0,o=s.length;i<o;i++)e.config.win.sessionStorage.removeItem(s[i])}else for(e.Object.each(this._cache,(function(e,i){0===i.indexOf(t)&&s.push(i)})),i=0,o=s.length;i<o;i++)this._cache[s[i]]=void 0}catch(e){this._hasSessionStorage=!1}}}}}),"@VERSION@",{requires:[]});YUI.add("cookie-catcher",(function(e,o){"use strict";var n=require("hermes-core/flog")(o);function t(o,n){this.cookieLevelBuckets=n,this.appContext=o,this.expireTime=new Date((new Date).getTime()+864e5*e.config.flickr.cookie_consent.consent_context_expiration_days),this.cookieConsentEnabled=this.appContext.flipper.isFlipped("enable-cookie-consent-execution-hermes")}t.prototype.getCookieLevel=function(e){return-1!==this.cookieLevelBuckets.required.indexOf(e)?0:-1!==this.cookieLevelBuckets.functional.indexOf(e)?1:-1!==this.cookieLevelBuckets.advertising.indexOf(e)?2:null},t.prototype.setCookieIfAllowed=function(o,n,t){if(this.cookieConsentEnabled&&this.appContext.requiresCookieConsent){var i=this.getCookieLevel(o),c=this.appContext.cookieConsentContext?this.appContext.cookieConsentContext.info.cookieBlock.level:0;(null===i||i<=c&&!YUI.Env.isServer)&&e.Cookie.set(o,n,t)}else e.Cookie.set(o,n,t)},t.prototype.getCookieConsentContext=function(){var o=this.appContext.getCookie(e.config.flickr.cookie_consent.consent_context_name),n={};if(n=this.appContext.flipper.isFlipped("enable-geoblock-cookie-consent")?{needsConsent:0,managed:0,changed:0,info:{cookieBlock:{level:0,blockRan:0}}}:{managed:0,changed:0,info:{cookieBlock:{level:0,blockRan:0}}},o)try{n=JSON.parse(o)}catch(o){this.setCookieIfAllowed(e.config.flickr.cookie_consent.consent_context_name,JSON.stringify(n),{path:"/",domain:e.config.flickr.cookies.domain,expires:this.expireTime})}else this.setCookieIfAllowed(e.config.flickr.cookie_consent.consent_context_name,JSON.stringify(n),{path:"/",domain:e.config.flickr.cookies.domain,expires:this.expireTime});return n},t.prototype.updateConsentContext=function(o){var t=this.appContext.cookieConsentContext;t.info.cookieBlock.level!==o&&(t.changed=1,t.info.cookieBlock.level=o,this.setCookieIfAllowed(e.config.flickr.cookie_consent.consent_context_name,JSON.stringify(t),{path:"/",domain:e.config.flickr.cookies.domain,expires:this.expireTime}),e.Snowplough?e.Snowplough.sendStructuredEvent({category:"cookie_consent",action:"consent_update",value:o+".0"}):n.error("Missing Y.Snowplough in CookieCatcher.prototype.updateConsentContext"),console.log("cd refresh"),e.config.win.location.reload())},t.prototype.handleConsentManagerChoice=function(){var e;try{(e=window.truste.cma.callApi("getConsentDecision","flickr.com"))&&e.consentDecision&&Number.isInteger(e.consentDecision)&&this.updateConsentContext(e.consentDecision-1)}catch(e){console.log(e)}},e.namespace("CookieCatcher"),e.CookieCatcher=t}),"@VERSION@",{requires:["cookie","io-base","json-parse","storage-helper","murmurhash","url"],optionalRequires:["hermes-core"]});YUI.add("stacking-overlay-manager",(function(e,i){var n=require("hermes-core/flog")(i);e.StackingOverlayManager=function(i){var r,o,s=[],t={},a={push:function(n,a){var l,d,c=Object.assign({id:e.guid(),view:void 0,overlayClassList:"",hideOverlay:!1,dismissOnOverlayClick:!0,dismissOnEsc:!0,ignorePointerEvents:!1,disableBodyScroll:!0,popBeforePushOther:!1,requiredParentNode:void 0,showFlickrBalls:!1},n),v=e.one("#stacking-overlay-container"),u=this.findFirstPopBeforePushOverlay();if(u){this.isRequiredParent(u,[...s,c])||this.pop(u.id)}return v.setStyles({display:"block"}),s.push(c),l=e.Node.create('<div class="fluid-modal-overlay"></div>'),c.showFlickrBalls&&l.append('<div class="balls"></div>'),l.addClass("fluid-modal-overlay"),c.overlayClassList&&l.addClass(c.overlayClassList),c.hideOverlay&&l.addClass("transparent"),c.ignorePointerEvents&&l.addClass("invisible"),v.append(l),d=l.on("click",this.handleClick.bind(this)),t[c.id]={overlay:c,node:l,clickHandler:d},c.disableBodyScroll&&e.one("body").setStyles({overflow:"hidden"}),r||(r=e.one("body").on("keyup",this.handleKeyPress.bind(this))),o||(o=i.flapp.on("activeViewChange",this.handleActiveViewChange.bind(this))),c.id},pop:function(i){var n=this;if(i){var t=s.length-1;s.find((function(e,n){return t=n,e.id===i}))&&s.slice(t,s.length).reverse().forEach((function(i,r){i.isPopped||(n.fire("pop",{overlay:i}),i.isPopped=!0,n.closeView(i),n.findFirstDisableBodyScrollOverlay()===i&&e.one("body").setStyles({overflow:"visible"}),s.pop(),n.fire("popped",{overlay:i}),n.deleteOverlay(i))}))}s.length<=0&&(e.one("#stacking-overlay-container").setStyles({display:"none"}),r&&(r.detach(),r=void 0),o&&(o.detach(),o=void 0))},deleteOverlay:function(e){var i=t[e.id];i&&(i.clickHandler.detach(),i.node.remove(),delete t[e.id])},handleClick:function(e){var i=e.target,n=s.find((function(e){return t[e.id].node===i}));n.dismissOnOverlayClick&&this.pop(n.id)},handleKeyPress:function(e){if(27===e.keyCode){var i=this.findLastDismissOnEscOverlay();i&&this.pop(i.id)}},placeViewAfterOverlay:function(e){var i=t[e];i&&i.overlay.view&&i.node.insert(i.overlay.view.get("container"),"after")},findLastDismissOnEscOverlay:function(){return s.slice().reverse().find((function(e){return e.dismissOnEsc}))},findFirstDisableBodyScrollOverlay:function(){return s.find((function(e){return e.disableBodyScroll}))},findFirstPopBeforePushOverlay:function(){return s.find((function(e){return e.popBeforePushOther}))},isRequiredParent:function(e,i){return!!i.find((i=>i.requiredParentNode&&e.view&&e.view.get("container").contains(i.requiredParentNode)))},closeView:function(e){e&&e.view&&(e.view.close?e.view.close():(n.warn("The overlay associated with the view "+e.view.name+" was popped, but the view has no close function. Consider implementing one."),e.view.destroy({remove:!0})))},handleActiveViewChange:function(e){this.popAll()},popAll:function(){var e=s.length>0?s[0]:void 0;e&&this.pop(e.id)},hasOverlay:function(){return s.length>0},top:function(){return this.hasOverlay()?s[s.length-1]:void 0},getOverlay:function(e){return t[e]}};return e.augment(a,e.EventTarget),a}}),"@VERSION@",{requires:["event-custom"],optionalRequires:["hermes-core"],langBundles:["common"]});YUI.add("trustarc-consent-manager",(function(e,n){var o=require("hermes-core/flog")(n);e.TrustarcConsentManager=function(n){var t,i,r,a=this,c=!1,s=n.cookieConsentContext;function l(o){var t;if(o&&o.data&&o.origin===window.location.origin){try{t=JSON.parse(o.data)}catch(e){return}if(t&&(t.PrivacyManagerAPI||t.PrivacyManagerAPI)){var i={},r=e.config.win.PrivacyManagerAPI.callApi("getGDPRConsentDecision",e.config.win.location.host).consentDecision;r&&r.forEach((function(e){i[e]||(i[e]=1)})),r.length&&0!==r[0]&&n.cookieCatcher.handleConsentManagerChoice()}}}function u(){if("truste"in window&&"PrivacyManagerAPI"in window){clearTimeout(i);var n=e.config.win.postMessage&&setInterval((function(){if(e.config.win.PrivacyManagerAPI&&n){var o={PrivacyManagerAPI:{action:"getConsentDecision",timestamp:(new Date).getTime(),self:e.config.win.location.host}};e.config.win.top.postMessage(JSON.stringify(o),"*"),n=clearInterval(n)}}),50);e.config.win.addEventListener("message",l.bind(this)),t=e.one("body").all(".trustarc-cookie-pref-link").on("click",f),c=!0,a.fire("ready")}else i=setTimeout(u.bind(this),250)}function g(){var o=e.one("#consent_blackbar");n.trustArcBannerClone?(clearTimeout(r),e.one("body").appendChild(n.trustArcBannerClone)):o?(clearTimeout(r),n.trustArcBannerClone=o):r=setTimeout(g.bind(this),100)}function f(n){var o=e.one("#consent_blackbar");return n.halt(),o&&o.addClass("active"),e.config.win.truste.eu.reopenBanner(),c=!0,a.fire("reopen"),!1}return this.load=function(){if(c=!1,!n.requiresCookieConsent)return this;if(e.Snowplough&&s.freshServerContext){var t=new Date((new Date).getTime()+864e5*e.config.flickr.cookie_consent.consent_context_expiration_days);e.Snowplough.sendStructuredEvent({category:"cookie_consent",action:"consent_new"}),delete s.freshServerContext,n.cookieCatcher.setCookieIfAllowed(e.config.flickr.cookie_consent.consent_context_name,JSON.stringify(s),{path:"/",domain:e.config.flickr.cookies.domain,expires:t})}else o.error("Missing Y.Snowplough in trustarc-consent-manager.load");return u(),g(),this},this.reset=function(){e.one("#consent_blackbar"),n.trustArcBannerClone&&n.trustArcBannerClone.getDOMNode()&&n.trustArcBannerClone.removeClass("active"),t&&(t.detach(),t=void 0),clearTimeout(i),clearTimeout(r),i=void 0,r=void 0},this.onReady=function(e){if(!c)return a.on("ready",e);e()},this},e.augment(e.TrustarcConsentManager,e.EventTarget)}),"@VERSION@",{requires:["promise"],optionalRequires:["hermes-core"],langBundles:["common"]});YUI.add("datalayer",(function(e,a){var r=require("hermes-core/flog")(a);function t(e){this.appContext=e}t.prototype.initDataLayer=function(){YUI.Env.isServer?r.error("Server cant set data layer"):(window.fDataLayer=window.fDataLayer||{page:{pageID:"",pageName:"",destinationURL:"",referringURL:"",onsiteSearchTerm:"",author:"",safetyLevel:"",tags:[],camera:{make:"",model:"",name:"",type:""},geo:{country:"",region:"",city:""}},user:{profileInfo:{profileID:"",userName:"",language:"",intl:"",signedIn:!1},address:"",segments:{isNewRegistration:null,isUserNewCustomer:null,customerClassDimension:"",visitorLifetimeValue:0,pro:!1,list:[]}}},r.info("Init dataLayer",window.fDataLayer))},t.prototype.updateDataLayer=function(){if(YUI.Env.isServer)r.error("Server cant set data layer");else{window.fDataLayer||this.initDataLayer();try{var a=this.appContext.getViewer()||null;a&&(a.signedIn?(window.fDataLayer.user.profileInfo.signedIn=!0,window.fDataLayer.user.profileInfo.profileID=a.nsid,window.fDataLayer.user.profileInfo.intl=a.intl,window.fDataLayer.user.segments.pro=!!a.isPro,window.fDataLayer.user.segments.list=a.segments||[]):window.fDataLayer.user.profileInfo.signedIn=!1),window.navigator&&window.navigator.language&&(window.fDataLayer.user.profileInfo.language=window.navigator.language),window.fDataLayer.page.photoId=null,window.fDataLayer.page.geo={country:"",region:"",city:""},window.fDataLayer.page.camera={make:"",model:"",name:"",type:""},window.fDataLayer.page.pageID=e.murmurhash(document.title,document.title+" insecure hawaiian volcano salt"),window.fDataLayer.page.pageName=this.appContext.flapp.get("activeView").name,window.fDataLayer.page.destinationURL=document.location.href,r.info("Updated dataLayer")}catch(e){r.error("Error updating data layer"),r.error(e)}}},t.prototype.setDataLayerProp=function(a,t){!YUI.Env.isServer&&window.fDataLayer?(e.Object.setValue(window.fDataLayer,a.split("."),t),r.info("Set data layer prop "+a+" = "+t)):r.error("Data layer unavailable.")},e.namespace("DataLayer"),e.DataLayer=t}),"@VERSION@",{requires:["murmurhash"],optionalRequires:["hermes-core"]});YUI.add("getty-helper",(function(e,t){"use strict";var i=require("hermes-core/flog")(t);function o(e){this.appContext=e,this.colors={0:{color:"#ff2000"},1:{color:"#a24615"},2:{color:"#ff7c00"},b:{color:"#ff9f9c"},4:{color:"#fffa00"},3:{color:"#ffcf00"},5:{color:"#90e200"},6:{color:"#00ab00"},7:{color:"#00b2d4"},8:{color:"#0062c6"},9:{color:"#8c20ba"},a:{color:"#f52394"},c:{color:"#ffffff"},d:{color:"#7c7c7c"},e:{color:"#000000"}},this.isMobile,this.geo,this.widgetSiblingCount=2,this._cache={widgets:{},models:{},widgetOrder:[]}}o.prototype.cacheWidget=function(t,o,a,r){let s=e.guid();return this.getModelById(o)||(this._cache.models[o]={},this._cache.models[o].regName=t,this._cache.models[o].lastImageIndex=0,this._cache.models[o].modelImages=a),this.getWidgetById(s)?i.error("Error: WidgetID already exists"):(this._cache.widgets[s]={},this._cache.widgets[s].modelId=o,this._cache.widgets[s].params=r,this._cache.widgets[s].widgetImages=[],this._cache.widgets[s].siblingIds=[],this._cache.widgets[s].imageIds={},this._cache.widgetOrder.push(s)),this.setWidgetSiblings(),this.setImagesInWidget(s),this.updateClassVariables(r),s},o.prototype.clearCache=function(){this._cache.widgets={},this._cache.models={},this._cache.widgetOrder=[]},o.prototype.setWidgetSiblings=function(){let e=2*this.widgetSiblingCount,t={},i={};this._cache.widgetOrder.forEach(((o,a)=>{let r=this.getWidgetById(o);r.siblingIds.length!==e&&(t=this.getOlderSiblingWidgets(a),i=this.getYoungerSiblingWidgets(a),r.siblingIds=[],r.siblingIds=r.siblingIds.concat(t),r.siblingIds=r.siblingIds.concat(i))}))},o.prototype.getOlderSiblingWidgets=function(e){let t=this.widgetSiblingCount,i=this._cache.widgetOrder,o=[];if(e>0)for(let a=e-1;a>=0&&t>0;a--,t--)o.push(i[a]);return o},o.prototype.getYoungerSiblingWidgets=function(e){let t=this.widgetSiblingCount,i=this._cache.widgetOrder,o=[];if(e>=0&&e<i.length)for(let a=e+1;a<i.length&&t>0;a++,t--)o.push(i[a]);return o},o.prototype.siblingHasImage=function(e,t){let i=this.getWidgetById(e),o=!1;return i.siblingIds.forEach((e=>{this.getWidgetById(e).imageIds[t]&&(o=!0)})),o},o.prototype.setImagesInWidget=function(e,t=10){let i=this.getWidgetById(e),o=i.widgetImages,a=i.modelId,r=a?this.getModelById(a):{},s=i.imageIds,n=r.modelImages,l=0,g=0;if(Object.keys(r).length>0){for(let a=r.lastImageIndex;t>0;a++)g>1?(o.push(n[a]),s[n[a].image_id]=!0,l=a+1,t--,g=0):n[a]?this.siblingHasImage(e,n[a].image_id)||i.imageIds[n[a].image_id]||(o.push(n[a]),s[n[a].image_id]=!0,l=a+1,t--):(a=0,r.lastImageIndex=0,n=this.randomizeImages(n),g++);l>n.length||l===n.length?(r.lastImageIndex=0,n=this.randomizeImages(n)):r.lastImageIndex=l}},o.prototype.randomizeImages=function(e){let t=e;for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t},o.prototype.updateClassVariables=function(e){this.isMobile=e.isMobile,this.geo=e.geo},o.prototype.getModelById=function(e){return this._cache.models[e]||null},o.prototype.getWidgetById=function(e){return this._cache.widgets[e]||null},o.prototype.canShowWidgetType=function(e){var t=!0,i=this.appContext.viewportData.getWidth()+this.appContext.viewportData.getScrollbarWidth();return(this.isMobile||this.appContext.getViewer().isPro||this.geo&&this.geo.countryCode&&"VN"===this.geo.countryCode||i&&i<=700||!this.appContext.flipper.isFlipped("enable-getty-signed-in"))&&(t=!1),e&&"trendTagsPage"===e&&!this.appContext.flipper.isFlipped("enable-getty-trend-tags-widget")&&(t=!1),e&&"explorePage"===e&&!this.appContext.flipper.isFlipped("enable-getty-explore-widget")&&(t=!1),e&&"tagsPage"===e&&!this.appContext.flipper.isFlipped("enable-getty-tags-widget")&&(t=!1),t},o.prototype.getSearchColorHex=function(e){var t="";if(e.modelParams&&e.modelParams.apiParams&&e.modelParams.apiParams.color_codes&&(t=e.modelParams.apiParams.color_codes.toString()),t.length>0){if(1===t.length)return this.colors[t].color;if(t.length>1){var i=t.split(","),o=i.length-1;return this.colors[i[o]].color}}},o.prototype.getSearchOrientation=function(e){var t=null;if(e.modelParams&&e.modelParams.apiParams&&e.modelParams.apiParams.orientation&&(t=e.modelParams.apiParams.orientation),t){var i={landscape:"horizontal",portrait:"vertical",square:"square",panorama:"panoramic_horizontal"},o="";return t.split(",").forEach((function(e){o.length?o+=","+i[e]:o+=i[e]})),o}return"horizontal,vertical,square,panoramic_horizontal"},o.prototype.getCorrectLangFormat=function(){var e=this.appContext.lang;return"pt-BR"===e||"zh-HK"===e||"en-US"===e?e:e.split("-")[0]},o.prototype.appendGettyTracking=function(e={campaign:"",term:"",pageUrl:"",originalURL:"",extraParams:""}){let t,i="utm_source=flickr",o="utm_medium=affiliate",a=`utm_campaign=${e.campaign}`,r=`utm_content=${encodeURIComponent(e.pageUrl)}`,s=`utm_term=${e.term}`;return t=e.extraParams?`${e.originalURL}${e.extraParams}&${i}&${o}&${a}&${s}&${r}`:`${e.originalURL}?${i}&${o}&${a}&${s}&${r}`,t+="&ref=sponsored",t},e.namespace("GettyHelper"),e.GettyHelper=o}),"@VERSION@",{requires:["flickr-promise"],optionalRequires:["hermes-core"]});YUI.add("app-context",(function(e,i){var t,o=require("hermes-core/flog")(i),n=e.config.flickr.api.default_timeout,r=e.config.flickr.api.retry_timeout,s=[117,118,119],a=new RegExp(e.config.flickr.api.write_api_method_regex),l=e.config.flickr.model_eviction,c={};(t=e.AppContext=function(i){(i=i||{}).request&&(this.request=i.request),this.params={},this._initializeParams(i),this.viewTiming={},this.modelRegistries={},this.modelImportExport=new e.ModelImportExport(this),this.flickrAPI=new e.FlickrAPI(this.request,this),this.auth=i.auth,this.flapp=i.flapp,this.writeAPICallsMadeOnThisPage={},this._moduleInstances={},this._pendingYUIPromises={},this._loadedViews={},this._apiCalls={},this._previousLocation=null,this._uploadInProgress=!1,this._pendingUploadErrorModal=null,this._concurrentAPICalls=0,this._apiQueueOrder=[],this._apiQueueFunctions={},this._preliminaryNsid=null,this.flipper=new e.Flipper(i.flipper),this.segments=new e.Segments(i.auth&&i.auth.user?i.auth.user.segments:[]),this.experiments={fullscreen:new e.Experiments.Fullscreen(this),optOut:new e.Experiments.OptOut(this)},this.secure="https"===this.protocol,this.flipper.isFlipped("enable-test-ads")?this.adManager=new e.TestAdManager(this.params.referrer,this):this.adManager=new e.AscendeumAdManager(this.params.referrer,this),this.adManager.setAdViewStatus(),this.cookieCatcher=new e.CookieCatcher(this,{required:e.config.flickr.cookie_consent.cookie_level_buckets.required,functional:e.config.flickr.cookie_consent.cookie_level_buckets.functional,advertising:e.config.flickr.cookie_consent.cookie_level_buckets.advertising}),this.requiresCookieConsent=!0,this.flipper.isFlipped("enable-cookie-consent-execution-hermes")&&(YUI.Env.isServer?(this.flipper.isFlipped("enable-geoblock-cookie-consent")&&!this.request.requiresCookieConsent&&(this.requiresCookieConsent=!1),this.cookieConsentContext=this.request.cookie_consent_context):(this.cookieConsentContext=this.cookieCatcher.getCookieConsentContext(),this.flipper.isFlipped("enable-geoblock-cookie-consent")&&!this.cookieConsentContext.needsConsent&&(this.requiresCookieConsent=!1))),this.dataLayer=new e.DataLayer(this),this.viewportData=new e.ViewportData(this),this.clientId="f"+Math.round(1e4*Math.random()).toString(36),this.isCSSLoaded=!1,this.bannerManager=new e.BannerHelper(this),YUI.Env.isServer||(this.overlayManager=new e.StackingOverlayManager(this)),!YUI.Env.isServer&&this.flipper.isFlipped("enable-cookie-consent-execution-hermes")&&this.requiresCookieConsent&&(this.trustarcConsentManager=new e.TrustarcConsentManager(this)),this.gettyHelper=new e.GettyHelper(this),this.initGlobalEvictionExemptionConfig()}).getValidParams=function(){return["bucket","protocol","buckets","random_slice","referrer","flipper","lang","gp_code","gp_owner","share_code"]},t.prototype={routeConfig:{},_initializeParams:function(e){var i=this;t.getValidParams().forEach((function(t){e.request&&t in e.request&&(e[t]=e.request[t]),t in e&&(i[t]=e[t],i.params[t]=e[t])}))},promisedUse:function(i){var t=YUI.Env.isServer,o=t?this.request.app.yui:e;return new e.Promise((function(e,n){o.use(i,(function(i,o){t?e(i):o&&"success"in o?o.success?e(i):n(o.msg):n("Y.use: no status provided")}))}))},instantiateYUIModule:function(i,t){if(!e.Lang.isString(i)||!e.Lang.isFunction(t))return e.Promise.reject("[app-context] `instantiateYUIModule` called without a `name` or `initializer`.");var o=this._moduleInstances,n=this._pendingYUIPromises;return n[i]||(o[i]?n[i]=e.Promise.resolve(o[i]):n[i]=this.promisedUse(i).then((function(){var e=t();return o[i]=e,delete n[i],e}))),n[i]},getModelRegistry:function(i){if(!e.Lang.isString(i))return e.Promise.reject("[app-context] `getModelRegistry` called without a `name`.");var t,n=this;return this.instantiateYUIModule(i,(function(r){if(!e.Models||!e.Models[i]||"function"!=typeof e.Models[i])throw o.error("There was an error loading the modelregistry",{status:r}),(t=new Error("[app-context] - Model registry failed to load:"+i)).moduleLoadingError=!0,t;var s=new e.Models[i](n);return n.modelRegistries[i]=s,s}))},getModel:function(i,t,o){return e.Lang.isString(i)?t?this.getModelRegistry(i).then(function(i){return this._refetchExistingModels&&(e.Lang.isObject(t,!0)?i.attributeSearch(t):[t]).forEach(function(e){this.canEvictModel(i,e)&&this.evictModel(i,e)}.bind(this)),i.get(t,o)}.bind(this)):e.Promise.reject("[app-context] `getModel` ("+i+") called without `modelIdOrAttributes`."):e.Promise.reject("[app-context] `getModel` called without a `registryName`.")},markAsNewlyFetched:function(e,i){this._refetchExistingModels&&(this._refetchedModels[e]||(this._refetchedModels[e]={}),this._refetchedModels[e][i]=!0)},getRoute:function(i){var t,n=this;return this.instantiateYUIModule(i,(function(r){if(!e.Routes||!e.Routes[i]||"function"!=typeof e.Routes[i])throw o.error("There was an error loading the route",{status:r}),(t=new Error("[app-context] - Route failed to load:"+i)).moduleLoadingError=!0,t;return new e.Routes[i](n)}))},getView:function(i,t){var n,r=this;return(t=t||{}).appContext=r,r.promisedUse(i).then((function(s){if(!e.Views||!e.Views[i]||"function"!=typeof e.Views[i])throw o.error("There was an error loading the view",{status:s}),(n=new Error("[app-context] - View failed to load:"+i)).moduleLoadingError=!0,n;return r._loadedViews[i]=!0,new e.Views[i](t)}))},getLoadedViews:function(){return Object.keys(this._loadedViews)},setGPCredentials:function(e){var i=this;null===e?(delete i.params.gp_owner,delete i.params.gp_code,delete i.params.share_code,delete c.gp_owner,delete c.gp_code,delete c.share_code):null!==e&&e.gp_code&&(i.params.gp_owner=e.gp_owner,i.params.gp_code=e.gp_code,i.params.share_code=e.share_code,c.gp_owner=e.gp_owner,c.gp_code=e.gp_code,c.share_code=e.share_code)},getCookie:function(i){return YUI.Env.isServer?this.request.cookies[escape(i)]:e.Cookie.get(i)},setCookie:function(i){if(YUI.Env.isServer)o.warn("You can't set a cookie from the server with AppContext -- use middleware.",i);else{i.cookieName&&void 0!==i.cookieValue&&i.path||o.error("Missing important parameters to set a cookie");var t=i.cookieName,n=i.cookieValue,r=i.domain||".flickr.com",s=i.path,a=i.expiresMonthsFromNow||3,l=i.expires?i.expires:e.moment().add(a,"months").toDate();i.remove&&e.Cookie.remove(t,{domain:i.domain||".flickr.com",path:s}),this.cookieCatcher.setCookieIfAllowed(t,n,{domain:r,path:s,expires:l})}},removeCookie:function(i){YUI.Env.isServer?o.warn("You can't remove a cookie from the server with AppContext -- use middleware.",i):(i.cookieName&&i.path||o.error("Missing important parameters to remove a cookie"),e.Cookie.remove(i.cookieName,{domain:i.domain||".flickr.com",path:i.path}))},reissueCookie:function(e,i){var t;e&&i||o.error("Missing important parameters to reissue a cookie"),t=this.getCookie(e),this.setCookie({cookieName:e,path:i,cookieValue:t})},getViewer:function(){var e={},i=this;return e.getPixelRatio=function(){var e;return(e=YUI.Env.isServer?i.getCookie("density"):window.devicePixelRatio)||(e=1),e},this.auth&&this.auth.signedIn?(e.nsid=this.auth.user.nsid,e.intl=this.auth.intl,e.signedIn=this.auth.signedIn,e.isPossiblyAdminUser=this.auth.isPossiblyAdminUser,e.isMinor=this.auth.isMinor,e.isPro=this.auth.user.ispro,e.isCognitoUser=this.auth.isCognitoUser,e.prefs={timezonePref:this.auth.timezonePref,downloadAccessPref:this.auth.downloadAccessPref},e.segments=this.auth.user.segments||[]):this._preliminaryNsid?(e.nsid=this._preliminaryNsid,e.signedIn=!0):(e.signedIn=!1,e.prefs={timezonePref:{name:"",dst:!1,offset:"+00:00",isDefaults:!0}}),YUI.Env.isServer?e.userAdBlockEnabled=null:e.userAdBlockEnabled=this.adManager.getAdBlockStatus(),e},setPreliminaryViewerNsid:function(e){this._preliminaryNsid=e},getKeyboardManager:function(){return this._keyboardManager||(this._keyboardManager=new e.KeyboardManager),this._keyboardManager},initGlobalEvictionExemptionConfig:function(){var e=this.getViewer().nsid;this._globalEvictionExemptionConfig={},e&&(this._globalEvictionExemptionConfig["person-preferences-models"]={exemptIds:[e]},this._globalEvictionExemptionConfig["privileges-models"]={exemptIds:[e]})},getPreviousURL:function(){var e="";return this._previousLocation&&(e=this._previousLocation.pathname,this._previousLocation.querystring&&(e+="?"+this._previousLocation.querystring),this._previousLocation.hash&&(e+="#"+this._previousLocation.hash)),e},getPreviousLocation:function(){return e.merge(this._previousLocation)},setPreviousLocation:function(){this._previousLocation=this.getLocation()},updateModelRefetchState:function(i,t){if(!this.flipper.isFlipped("evict-models-on-navigate")||!i||t)return this._refetchExistingModels=!1,void(this._refetchedModels=null);var o,n;this._previousLocation&&(o=e.URLHelper.getSiteSectionByURL(this._previousLocation.pathname)),i&&(i="/"+i.split("/").slice(3).join("/"),n=e.URLHelper.getSiteSectionByURL(i)),this._refetchExistingModels=void 0,n&&l.entry_refetch_exemptions[n.name]&&(this._refetchExistingModels=!1),o&&l.exit_refetch_exemptions[o.name]&&(this._refetchExistingModels=!1),void 0===this._refetchExistingModels&&n&&o&&(l.transition_refetch_exemptions[o.name]&&l.transition_refetch_exemptions[o.name][n.name]?this._refetchExistingModels=!1:this._refetchExistingModels=o.name!==n.name),void 0===this._refetchExistingModels&&(this._refetchExistingModels=!1),this._refetchedModels={}},hasClientSideRouted:function(){return!!this._clientSideRouted},setClientSideRouted:function(e){this._clientSideRouted=e},getReferrer:function(){var e;try{e=this.flapp.get("activeView").getViewDataFromHistory("referrer")}catch(e){}return e},getLocation:function(){var i;return YUI.Env.isServer?(i={protocol:this.request.protocol,hostname:this.request.hostname,pathname:this.request.path,query:this.request.query,querystring:this.request.query?e.QueryString.stringify(this.request.query):"",hash:""}).href=i.protocol+"://"+i.hostname+this.request.originalUrl:(i={protocol:e.config.win.location.protocol.split(":")[0],hostname:e.config.win.location.hostname,pathname:e.config.win.location.pathname,querystring:e.config.win.location.search.split("?")[1],href:e.config.win.location.href,hash:e.config.win.location.hash}).query=i.querystring?e.QueryString.parse(i.querystring):"",i},getViewCounter:function(){return this._viewCounter||(this._viewCounter=new e.ViewCounter({appContext:this})),this._viewCounter},getBucket:function(e){if(this.buckets)return this.buckets[e]},handleMismatchedNSID:function(){var i;i=e.mix({langBundles:["common"],appContext:this},e.Localizable);let t=new e.Views["confirmation-dialog-view"]({appContext:this,title:i.intlMessage({intlName:"common.ERROR"}),htmlMessage:i.intlMessage({intlName:"common.MISMATCHED_NSID_ERROR"}),showCloseXButton:!0,fireModalActionClick:!1,onConfirm:async i=>{t.setLoading(!0),e.config.win.location.reload(!0)}});new e.Views.FluidModal({appContext:this,subview:t,dismissOnOverlayClick:!1,hasSubviewConfigRefactor:!0}).show()},mitigateClientPanda:function(i){var t;t=e.mix({langBundles:["common"],appContext:this},e.Localizable);let o=new e.Views["confirmation-dialog-view"]({appContext:this,title:t.intlMessage({intlName:"common.ERROR"}),htmlMessage:t.intlMessage({intlName:i}),showCloseXButton:!0,fireModalActionClick:!1,onConfirm:async i=>{o.setLoading(!0),e.config.win.location.reload(!0)}});return new e.Views.FluidModal({appContext:this,subview:o,dismissOnOverlayClick:!1,dismissOnActionClick:!1,hasSubviewConfigRefactor:!0}).show(),e.PromiseChainDestroyer()},callAPI:function(i,t,l,h){var u,d,p,g=this,f=[i,t=t||{},null,h];return l=l&&!YUI.Env.isServer,f=null!==c?[i,e.merge(t,c),null,h]:[i,t,null,h],u=i+"__"+Object.keys(t).sort().map((function(e){return encodeURIComponent(e)+"_"+encodeURIComponent(t[e])})).join("__"),this._apiCalls[u]?(e.config.flickr.cameraroll.suppress_logging&&"flickr.cameraroll.getPhotosByOffset"===i||o.log("Reusing API call",{method:i}),g._apiQueueOrder.length>1&&(p=g._apiQueueOrder.indexOf(u))>-1&&p<g._apiQueueOrder.length-1&&(g._apiQueueOrder.splice(p,1),g._apiQueueOrder.push(u)),this._apiCalls[u].then((function(i){return e.clone(i,!0)}),(function(i){throw e.clone(i,!0)}))):(l&&(f.push(null),f.push({timeout:n})),i.match(a)&&this.cacheWriteAPICall(u,i),this._apiCalls[u]=new e.Promise((function(t,n){var a;a=function(){g.flickrAPI.callMethod.apply(g.flickrAPI,f).then((function(e){return g.onAPICallComplete(u,!0),e}),(function(t){if(g.onAPICallComplete(u,!1),!YUI.Env.isServer&&-1!==s.indexOf(t.code))return g.handleMismatchedNSID(),e.PromiseChainDestroyer();if(!YUI.Env.isServer&&0===t.status&&0===t.total)return g.mitigateClientPanda("common.NETWORK_CONNECTIVITY_ISSUE");if(l&&(t.clientTimeout||0===t.status||t.transportFailure)){if(o.log("Retrying API call",{method:i}),delete g._apiCalls[u],!YUI.Env.isServer&&e.config.win.beaconError){if(e.config.win.document)try{t.domain=e.config.win.document.domain}catch(e){}e.config.win.beaconError("[app-context] Retrying API ",e.config.win.location.href,t)}return(d=f[f.length-1]).timeout&&(d.timeout=r),g._apiCalls[u]=g.flickrAPI.callMethod.apply(g.flickrAPI,f).then((function(t){return g.onAPICallComplete(u,!0),o.log("Successfully retried API call",{method:i}),e.fire("appContext:apiRetry",{apiMethod:i,code:418}),!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("[app-context] Successful API retry ",e.config.win.location.href,{}),t}),(function(t){throw g.onAPICallComplete(u,!1),o.log("Failed retry of API call",{method:i}),e.fire("appContext:apiRetry",{apiMethod:i,code:408}),!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("[app-context] Failed API retry ",e.config.win.location.href,{}),t})),g._concurrentAPICalls++,g._apiCalls[u]}throw t})).then(t,n)},YUI.Env.isServer?a():(g._apiQueueOrder.push(u),g._apiQueueFunctions[u]=a,g.callNextInQueue())})),this._apiCalls[u])},callNextInQueue:function(){var i,t,o=e.config.flickr.api.max_concurrent_api_calls;this._apiQueueOrder.length&&this._concurrentAPICalls<o&&(this._concurrentAPICalls++,i=this._apiQueueOrder.pop(),t=this._apiQueueFunctions[i],delete this._apiQueueFunctions[i],t())},cacheWriteAPICall:function(e,i){this.writeAPICallsMadeOnThisPage[e]={methodName:i,completed:!1,failed:!1}},onAPICallComplete:function(e,i){var t=this.writeAPICallsMadeOnThisPage[e];t&&(t.completed=!0,t.failed=!i),delete this._apiCalls[e],this._concurrentAPICalls--,this.callNextInQueue()},clearWriteAPICallCache:function(){this.writeAPICallsMadeOnThisPage={}},canEvictModel:function(e,i){var t,o;return!(!e||!i)&&(!!e.exists(i)&&(t=e.name,!((o=this._globalEvictionExemptionConfig[t])&&o.exemptIds&&-1!==o.exemptIds.indexOf(i))&&(this._refetchedModels[t]||(this._refetchedModels[t]={}),!this._refetchedModels[t][i])))},evictModel:function(e,i){var t=e.name;this.flipper.isFlipped("model-eviction-debugging")&&console.log("[EVICT] "+t+" ["+i+"]"),e.getOwnedModels(i).forEach(function(e){this.canEvictModel(e.registry,e.id)&&this.evictModel(e.registry,e.id)}.bind(this)),e.remove(i)},evictModels:function(i){var t,n,r,s,a=this.getViewer().nsid,l=[],c=this.modelRegistries;for(t in this.writeAPICallsMadeOnThisPage)(n=this.writeAPICallsMadeOnThisPage[t]).completed&&!n.failed&&l.push(n);l.forEach((function(e){})),this._refetchExistingModels&&(a&&(i=e.merge(i,this._globalEvictionExemptionConfig)),Object.keys(this.modelRegistries).forEach((function(e){r=c[e],(s=i[e])?s.exemptIds?(s.evictIds&&o.warn("Error in eviction config for registry: cannot specify both an allowlist (`evictIds`) and a denylist (`exemptIds`) for model eviction. Ignoring `evictIds` and evicting all models except those listed in `exemptIds`.",{modelRegistryName:e}),r.removeAllExcept(s.exemptIds)):s.evictIds&&s.evictIds.forEach((function(i){c[e].remove(i)})):c[e].removeAll()})))},markUploadInProgress:function(e){this._uploadInProgress=e},uploadIsInProgress:function(){return this._uploadInProgress},storePendingUploadErrorModal:function(e){this._pendingUploadErrorModal=e},retrievePendingUploadErrorModal:function(e){return this._pendingUploadErrorModal},_doForcedServerRender:function(){if(!YUI.Env.isServer||!this.request||!this.request.headers)return!1;var e=!1;return e=(e=e||this.request.UA.isBot)||this.request.UA.isSharingBot,this.flipper.isFlipped("enable-server-render-for-unsupported-browsers")&&(e=e||this.request.UA.isUnsupportedBrowser),this.flipper.isFlipped("enable-forced-server-render")&&(e=!0),e},getUA:function(){return YUI.Env.isServer?this.request.UA:e.config.flickr.request.UA},logViewTiming:function(){var e,i=this.flapp.get("activeView"),t=0,o=this;e=function(i,n){t++,Object.keys(i.subviews).forEach((function(r){var s=i.subviews[r].get("container").hasClass("requiredToShowOnServer")||i.subviews[r]._params.requiredToShowOnClient,a=n&&s,l="-";l=s?"🔹":"-",l=a?"🔷":l,console.log("| \t\t "+new Array(t).join(" |\t\t ")+" "+l+" "+r+" (initialization: "+o.viewTiming[r].initialize+"ms) (loadState: "+o.viewTiming[r].loadState+"ms)"),e(i.subviews[r],a)})),t--},console.log(this.routeConfig.module+": "+this.routeTiming+"ms"),console.log("🔷 "+i.name+" (initialization: "+this.viewTiming[i.name].initialize+"ms) (loadState: "+this.viewTiming[i.name].loadState+"ms)"),e(i,!0)}}}),"@VERSION@",{requires:["oop","flickr-api","flickr-promise","promise","model-import-export","cookie","view-counter","flipper","segments","localizable","moment","experiments-fullscreen","experiments-opt-out","moola-manager","viewport-data","querystring-parse-simple","querystring-stringify-simple","url-helper","browser-support","api-helper","banner-helper","cookie-catcher","stacking-overlay-manager","trustarc-consent-manager","datalayer","getty-helper"],optionalRequires:["hermes-core"]});YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.16.0",{requires:["yui-base"]});
YUI.add("better-cache",(function(e){var c,t=[],n=0,r={};function o(e,c){return e.score<c.score?-1:e.score>c.score?1:0}function u(){var e,n,u;for(t.sort(o),r={},t.length>c&&(u=t.shift()).callback&&u.callback(),e=t.length,n=0;n<e;n++)r[t[n].key]=n}c=e.config.flickr.better_cache_size||100,e.betterCache={reset:function(){t=[],n=0,r={}},_cache:t,getSize:function(){return t.length},unset:function(e){var c=r[e];void 0!==c&&(t.splice(c,1),u())},set:function(e,c,o){var a;!1!==c?((a=!!r[e]&&t[r[e]])?(t[r[e]].value=c,t[r[e]].score=n++,"function"==typeof o&&(a.callback=o)):(a={key:e,value:c,score:n++},"function"==typeof o&&(a.callback=o),t.push(a)),u()):this.unset(e)},get:function(e){return"number"==typeof r[e]?(t[r[e]].score=++n,t[r[e]].value):null}}}),"@VERSION@");